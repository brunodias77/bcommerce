# =============================================================================
# B-Commerce Environment Configuration Example
# =============================================================================
# This file contains all environment variables used across the B-Commerce
# microservices infrastructure. Copy this file to .env and update the values
# according to your environment.
# =============================================================================

# =============================================================================
# GENERAL APPLICATION SETTINGS
# =============================================================================
APP_NAME=B-Commerce
APP_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=info

# =============================================================================
# DOCKER COMPOSE SETTINGS
# =============================================================================
COMPOSE_PROJECT_NAME=bcommerce
COMPOSE_FILE=docker-compose.yml

# =============================================================================
# KEYCLOAK CONFIGURATION
# =============================================================================
# Keycloak Server
KEYCLOAK_HOST=localhost
KEYCLOAK_PORT=8080
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin123

# Keycloak Database
KEYCLOAK_DB_HOST=localhost
KEYCLOAK_DB_PORT=5433
KEYCLOAK_DB_NAME=keycloak
KEYCLOAK_DB_USER=keycloak
KEYCLOAK_DB_PASSWORD=keycloak123

# Keycloak Realm Configuration
KEYCLOAK_REALM=bcommerce
KEYCLOAK_CLIENT_ID=bcommerce-backend
KEYCLOAK_CLIENT_SECRET=your-client-secret-here
KEYCLOAK_FRONTEND_CLIENT_ID=bcommerce-frontend

# Test Users
KEYCLOAK_TEST_USER=testuser
KEYCLOAK_TEST_PASSWORD=testpass123
KEYCLOAK_ADMIN_USER=admin
KEYCLOAK_ADMIN_USER_PASSWORD=admin123

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis123
REDIS_DB=0
REDIS_URL=redis://:redis123@localhost:6379/0

# Redis Configuration
REDIS_MAX_MEMORY=256mb
REDIS_MAX_MEMORY_POLICY=allkeys-lru
REDIS_TIMEOUT=5000
REDIS_POOL_SIZE=10

# =============================================================================
# RABBITMQ CONFIGURATION
# =============================================================================
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672
RABBITMQ_DEFAULT_USER=rabbitmq
RABBITMQ_DEFAULT_PASS=rabbitmq123
RABBITMQ_DEFAULT_VHOST=bcommerce
RABBITMQ_URL=amqp://rabbitmq:rabbitmq123@localhost:5672/bcommerce

# RabbitMQ Management
RABBITMQ_MANAGEMENT_URL=http://localhost:15672

# =============================================================================
# DATABASE CONFIGURATIONS
# =============================================================================

# Main Database (Shared Schema)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=bcommerce
DB_USER=postgres
DB_PASSWORD=postgres123

# User Management Service Database
USER_DB_HOST=localhost
USER_DB_PORT=5434
USER_DB_NAME=user_management
USER_DB_USER=user_service
USER_DB_PASSWORD=user123
USER_DB_URL=postgresql://user_service:user123@localhost:5434/user_management

# Catalog Service Database
CATALOG_DB_HOST=localhost
CATALOG_DB_PORT=5435
CATALOG_DB_NAME=catalog
CATALOG_DB_USER=catalog_service
CATALOG_DB_PASSWORD=catalog123
CATALOG_DB_URL=postgresql://catalog_service:catalog123@localhost:5435/catalog

# Promotion Service Database
PROMOTION_DB_HOST=localhost
PROMOTION_DB_PORT=5436
PROMOTION_DB_NAME=promotion
PROMOTION_DB_USER=promotion_service
PROMOTION_DB_PASSWORD=promotion123
PROMOTION_DB_URL=postgresql://promotion_service:promotion123@localhost:5436/promotion

# Cart Service Database
CART_DB_HOST=localhost
CART_DB_PORT=5437
CART_DB_NAME=cart
CART_DB_USER=cart_service
CART_DB_PASSWORD=cart123
CART_DB_URL=postgresql://cart_service:cart123@localhost:5437/cart

# Order Service Database
ORDER_DB_HOST=localhost
ORDER_DB_PORT=5438
ORDER_DB_NAME=order_management
ORDER_DB_USER=order_service
ORDER_DB_PASSWORD=order123
ORDER_DB_URL=postgresql://order_service:order123@localhost:5438/order_management

# Payment Service Database
PAYMENT_DB_HOST=localhost
PAYMENT_DB_PORT=5439
PAYMENT_DB_NAME=payment
PAYMENT_DB_USER=payment_service
PAYMENT_DB_PASSWORD=payment123
PAYMENT_DB_URL=postgresql://payment_service:payment123@localhost:5439/payment

# Review Service Database
REVIEW_DB_HOST=localhost
REVIEW_DB_PORT=5440
REVIEW_DB_NAME=review
REVIEW_DB_USER=review_service
REVIEW_DB_PASSWORD=review123
REVIEW_DB_URL=postgresql://review_service:review123@localhost:5440/review

# Audit Service Database
AUDIT_DB_HOST=localhost
AUDIT_DB_PORT=5441
AUDIT_DB_NAME=audit
AUDIT_DB_USER=audit_service
AUDIT_DB_PASSWORD=audit123
AUDIT_DB_URL=postgresql://audit_service:audit123@localhost:5441/audit

# =============================================================================
# MICROSERVICES CONFIGURATION
# =============================================================================

# API Gateway (YARP)
API_GATEWAY_PORT=5000
API_GATEWAY_URL=http://localhost:5000

# User Management Service
USER_SERVICE_PORT=5001
USER_SERVICE_URL=http://localhost:5001

# Catalog Service
CATALOG_SERVICE_PORT=5002
CATALOG_SERVICE_URL=http://localhost:5002

# Promotion Service
PROMOTION_SERVICE_PORT=5003
PROMOTION_SERVICE_URL=http://localhost:5003

# Cart Service
CART_SERVICE_PORT=5004
CART_SERVICE_URL=http://localhost:5004

# Order Service
ORDER_SERVICE_PORT=5005
ORDER_SERVICE_URL=http://localhost:5005

# Payment Service
PAYMENT_SERVICE_PORT=5006
PAYMENT_SERVICE_URL=http://localhost:5006

# Review Service
REVIEW_SERVICE_PORT=5007
REVIEW_SERVICE_URL=http://localhost:5007

# Audit Service
AUDIT_SERVICE_PORT=5008
AUDIT_SERVICE_URL=http://localhost:5008

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
FRONTEND_PORT=4200
FRONTEND_URL=http://localhost:4200
API_BASE_URL=http://localhost:5000/api

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRATION=3600
JWT_REFRESH_EXPIRATION=86400

# Encryption
ENCRYPTION_KEY=your-encryption-key-32-characters
HASH_SALT_ROUNDS=12

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@bcommerce.com

# =============================================================================
# FILE STORAGE CONFIGURATION
# =============================================================================
FILE_STORAGE_TYPE=local
FILE_STORAGE_PATH=./uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf

# AWS S3 (if using cloud storage)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=bcommerce-files

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================
LOG_FILE_PATH=./logs/app.log
LOG_MAX_SIZE=10MB
LOG_MAX_FILES=5

# Health Check
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# =============================================================================
# PAYMENT GATEWAY CONFIGURATION
# =============================================================================
# Stripe
STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# PayPal
PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_CLIENT_SECRET=your_paypal_client_secret
PAYPAL_MODE=sandbox

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# Shipping Services
SHIPPING_API_KEY=your_shipping_api_key
SHIPPING_API_URL=https://api.shipping-service.com

# Tax Calculation
TAX_API_KEY=your_tax_api_key
TAX_API_URL=https://api.tax-service.com

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
ENABLE_SWAGGER=true
ENABLE_CORS=true
CORS_ORIGINS=http://localhost:4200,http://localhost:3000

# Database Seeding
SEED_DATABASE=true
SEED_ADMIN_EMAIL=admin@bcommerce.com
SEED_ADMIN_PASSWORD=Admin123!

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# Uncomment and modify these for production deployment
# ENVIRONMENT=production
# DEBUG=false
# LOG_LEVEL=warn
# ENABLE_SWAGGER=false
# SEED_DATABASE=false

# Production Database URLs (use connection strings for production)
# DATABASE_URL=postgresql://username:password@host:port/database
# REDIS_URL=redis://username:password@host:port/db
# RABBITMQ_URL=amqp://username:password@host:port/vhost

# =============================================================================
# DOCKER NETWORK SETTINGS
# =============================================================================
DOCKER_NETWORK=bcommerce-network
DOCKER_SUBNET=172.20.0.0/16

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=./backups

# =============================================================================
# END OF CONFIGURATION
# =============================================================================